# Python数据 

#### 这里是++Python数据分析学习++的第一篇笔记

---
## 语法规范
### 行与缩进
- Python严格依照缩进判断各函数的边界，因此缩进问题非常重要
- 控制流语句、自定义函数、自定义类的内部需要比原语段多一个缩进
- 缩进可以是tab键或4个空格
- 在很多编程软件中缩进会自动补齐

### 多行语句
- 对于运算语句来说，当一行过长时，可以添加'\'符号来告知Python进行换行
- 对于列表、元组和字典内部来说，当一行过长时可以直接换行，Python会通过括号自动识别

### 引号
- python的引号有三种：单引号，双引号，三引号
- 引号之间没有区别，但必须保证在使用时引号前后一致
- 三引号支持内部换行，但在python3中引号内换行会出现'/n'

### 注释 
- 在程序运行时注释全部会被忽略掉
- 使用'#'来添加单行注释，#可以位于一行的开始或语句的末尾
- 使用引号来添加多行注释，单双引号均可
```
'''
这是多行注释，使用单引号。
这是多行注释，使用单引号。
这是多行注释，使用单引号。
'''

"""
这是多行注释，使用双引号。
这是多行注释，使用双引号。
这是多行注释，使用双引号。
"""
```

### 空行
- 函数之间或类之间会用空行隔开，表示新的代码的开始；类和函数的入口也会用空行隔开，表示入口
- 空行非必要，在整个python代码中不空行也是完全可以的，但是增加空行有利于代码的阅读、维护和重构
- 可以在字符串内添加'\n'来输出空行
- 如果语句之间没有空行(换行)，需要添加';'符号来分隔语句
```
import sys; x = 'foo'; sys.stdout.write(x + '\n')
```


### 码组
- 缩进相同语句构成的代码块称为码组，例如if-else语句

### 帮助
- 可以使用help()方法来得到函数的说明
```
help(sys.stdout.write)
```

---
## 数据类型
- 主要有数字(Numbers)、字符串(String)、列表(List)、元组(Tuple)和字典(Dictonary)五种

### 变量

- 变量是储存在内存中的一个值，创建变量意味着在内存中开辟空间
- 对于基于变量的数据类型，解释器会分配指定的内存，并且决定什么样的变量可以储存在内存中。因此变量可以指定不同的数据类型
- python不需要进行变量声明，可以直接进行赋值。变量被创造时会包含一个表示，包括所含值以及类型等信息

### 变量赋值
- 变量在使用前必须**进行赋值**，否则系统会找不到该变量
- 通过'='对变量进行赋值
- 可以同时对多个变量进行赋值,也可以分别指定各个变量的值
```
a = b = c = 1
a, b, c = 1, 2, "john"
```

### 数字
- 数字数据类型用于存储数值
- 不可改变的数据类型，改变则会分配新对象
- 四种数值型：int(有符号整型)、long(长整型)、float(浮点型)和complex(复数)
- long一般在数字后加上'L'，可以表示八进制和十六进制
- float在定义时添加'.'就可以自动定义为浮点型
- complex可以使用'j'来表示虚数的部分[例如3+4j]
- 可以使用del关键字来删除数字的引用(即变量)
```
del var1[,var2[,var3[....,varN]]]]
```

### 字符串
- 代表文本类型的数值，是不能进行运算的
- 字符串从右往左进行标号，从下标0开始，从右往左从-1开始
- 可以使用'[n:m]'进行字符串的选取，从头下标n开始，到m-1结束(取不到尾下标)
- 省略头下标默认从0开始，省略尾下标默认输出完字符串
- 当字符串过长时，可以使用-1表示字符串最后一个下标
```
str[0]      # 输出字符串中的第一个字符
str[2:5]    # 输出字符串中第三个至第五个之间的字符串
str[2:]     # 输出从第三个字符开始的字符串
```
- 虽然不能运算，但是字符串可以使用'+'实现字符串的连接，使用'*'实现字符串自身的重复
```
str * 2         # 输出字符串两次
str + "TEST"    # 输出连接的字符串
```

### 列表
- 一种集合类的数据结构，使用中括号[]进行标识
- 列表支持字符、数字、字符串甚至是列表，列表内元素使用','进行分开
```
list = [ 'abcd', 786 , 2.23, 'john', 70.2 ]
```
- 列表内的元素可以是不同的数据类型
- 列表的分片类似字符串
```
list            # 输出完整列表
list[0]         # 输出列表的第一个元素
list[1:3]       # 输出第二个至第三个的元素 
list[2:]        # 输出从第三个开始至列表末尾的所有元素
tinylist * 2    # 输出列表两次
list + tinylist # 打印组合的列表

```

### 元组
- 与列表非常相像，但使用小括号()进行标识，是python里另外一种基本数据类型
```
tuple = ( 'abcd', 786 , 2.23, 'john', 70.2 )
```
- 与列表最大的区别是：列表内的元素可以二次赋值，但元组内元素无法更改。可以把元组看作是只读的列表
```
tuple = ( 'abcd', 786 , 2.23, 'john', 70.2 )
list = [ 'abcd', 786 , 2.23, 'john', 70.2 ]
tuple[2] = 1000 # 元组中是非法应用
list[2] = 1000 # 列表中是合法应用
```
- 元组的分片类似字符串
```
tuple               # 输出完整元组
tuple[0]            # 输出元组的第一个元素
tuple[1:3]          # 输出第二个至第三个的元素 
tuple[2:]           # 输出从第三个开始至列表末尾的所有元素
tinytuple * 2       # 输出元组两次
tuple + tinytuple   # 打印组合的元组

```

### 字典
- python中除列表外最为灵活的内置数据结构类型，使用大括号{}进行标识，内部元素通过','进行分隔
- 列表是有序的数据类型的集合，字典是无序的数据类型的集合。两者的区别在于字典通过键值对进行存储，列表通过偏移进行存储
```
dict = {'name': 'john','code':6734, 'dept': 'sales'}
```
- 直接添加key和value添加键值对
```
dict['one'] = "This is one"
```

### 数据类型转换

函数 | 描述
---|---
int(x [,base]) | 转换为整数
long(x [,base]) | 转化为长整数
float(x)|转化为浮点数
complex(real [,imag])|创建一个复数
str(x)|转化为字符串
repr(x)|转化为表达式字符串
eval(str)|计算在字符串中的有效Python表达式，并返回一个对象
tuple(s)|转换为元组
list(s)|转换为列表
set(s)|转换为可变集合
dict(d)|创建一个字典。d必须是一个序列(key,value)元组
frozenset(s)|转换为不可变集合
chr(x)|整数转换为字符
unichr(x)|整数转换为Unicode字符
ord(x)|字符转换为整数
hex(x)|整数转换为十六进制字符串
oct(x)|整数转换为八进制字符串

---
## 运算符

### 算术运算符
- 用于处理两个数字的数值运算，分为加(+)、减(-)、乘(\*)、除(/)、取模(%)、幂(\*\*)、取整除(//)七种
- 在python3中除法的结果一定为float类型
- 取整除会向下取整，将多余的小数部分去除，但返回值可以是int和float类型两种

### 比较运算符
- 用于处理两个对象的关系运算，分为等于(=)、不等于(!= or <>)、大于(>)、小于(<)、大于等于(>=)、小于等于(<=)六种,主要用于条件判断语句
- !=和<>作用类似，记住一个即可

### 赋值运算符
- 为对象赋值，同时进行一些处理，有=、+=、-=、\*=、/=、%=、\*\*=、//=八种

### 位运算符
- 将数字看作二进制进行计算，分为按位与(&)、按位或(|)、按位异或(^)、按位取反(~)、左移动(<<)和右移动(>>)六种
- 按位异或当二进位相异时结果为1
- 左移动运算符在运算时会将高位丢弃，低位补零，右移动则相反
- 使用比较少

### 逻辑运算符
- 用于处理两个对象间的逻辑关系，分为布尔与(and)、布尔或(or)和布尔非(not)三种
- 布尔与:在前者为真时返回后者的计算值
- 布尔或:在前者为假时返回后者的计算值。
- 注意这里后者的计算值不一定为布尔型，可利用这一功能实现简单的条件语句

### 成员运算符
- 用于判断两个对象的从属关系，分为in和not in两种
- in表示x在y的序列中，如果x在y序列中则返回True
- not in表示x不在y序列中，如果x不在y序列中返回True
```
a = 10
b = 20
list = [1, 2, 3, 4, 5 ];

if ( a in list ):
   print "Line 1 - a is available in the given list"
else:
   print "Line 1 - a is not available in the given list"
```

### 身份运算符
- 用于判断两个标识符是否引用自同一个对象，分为is和is not两种
- x is y，如果id(x)等于id(y),is 返回结果1


### 运算符优先级
- 指数>运算>位>比较>等于>赋值>身份>成员>逻辑
- 可以通过增加括号来改变运算顺序
