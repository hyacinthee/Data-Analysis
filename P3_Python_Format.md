# P3_Python格式化

#### 这里是Python数据分析学习的第三篇笔记
本文介绍了Python自带的格式化处理方法，包括**数学**、**字符串**和**时间**三大部分

---
## 数学

### 数学函数

函数 | 返回值(描述)
---|---
abs(x) | 返回整数的绝对值，如abs(-10)返回 10
ceil(x) | 返回数字的上入函数，如math.ceil(4.1)返回 5
cmp(x,y) | 如果x < y返回-1，如果x == y返回0，如果 x > y 返回1
exp(x) | 返回e的x次幂(e^x),如math.exp(1)返回2.718281828
fabs(x) | 返回数字的绝对值，如math.fabs(-10) 返回 10.0
floor(x) | 返回数字的下舍函数，如math.floor(4.9)返回4
log(x) | 对数运算。如math.log(math.e)返回1.0，math.log(100,10)返回2.0
log10(x) |  返回以10为基数的x的对数，如math.log10(100)返回2.0
max(x1,x2,...) | 返回给定参数的最大值，参数可以为序列
min(x1,x2,...) | 返回给定参数的最小值，参数可以为序列
modf(x) | 返回x的整数部分和小数部分，两部分的数值符号与x相同，整数部分以浮点型表示
pow(x,y) | x**y 运算后的值
round(x [,n])| 返回浮点数的四舍五入值，如给出n值，则代表舍入到小数点后的位数
sqrt(x) | 返回数字x的平方根，数字可以为负数，返回类型为实数，如math.sqrt(4)返回2+0j

---
### 随机函数

函数 | 描述
---|---
choice(seq) | 从序列的元素中随机挑选一个元素，比如random.choice(range(10)),从0到9中随机挑选一个整数。
randrange([start,]stop[,step]) |  从指定范围内，按指定基数递增的集合中获取一个随机值，基数缺省值为1
random() | 随机生成下一个实数，它在[0,1]范围内
seed([x]) | 改变随机数生成器的种子seed。如果你不了解其原理，你不必特别去设定seed，Python会帮你选择seed。
shuffle(lst) | 将序列的所有元素随机排序
uniform(x,y) | 随机生成下一个实数，它在[x,y]范围内。


### 三角函数

函数 | 描述
---|---
acos(x) | 返回x的反余弦弧度值
asin(x) | 返回x的反正弦弧度值
atan(x) | 返回x的反正切弧度值
atan2(y,x) | 返回给定的x及y坐标值的反正切值
cos(x) | 返回x的弧度的余弦值
hypot(x,y) | 返回欧几里得范数 sqrt(x\*x + y\*y)
sin(x) | 返回x弧度的正弦值
tan(x) | 返回x弧度的正切值
degrees(s) | 将弧度转化为角度，如 degrees(math.pi/2),返回90.0
redians(x) | 将角度转化为弧度

### 数学常量 

常量 | 描述
---|---
pi | 数学常量pi(圆周率，一般以π来表示)
e | 数学常量e，e即自然常数

---
## 字符串

### 转义字符


转义字符 | 描述
---|---
\\(在行尾时) | 续行符
\\\\ | 反斜杠符号
\\' | 单引号
\\" | 双引号
\\a | 响铃
\\b | 退格(backspace)
\\e | 转义
\\000 | 空
\\n | 换行
\\v | 纵向制表符
\\t | 横向制表符
\\r | 回车
\\f | 换页
\\oyy | 八进制数，yy代表字符，例如:\\o12代表换行
\\xyy | 十六进制数，yy代表字符，例如:\\x0a代表换行
\\other | 其他的字符以普通格式输出

### 字符串运算符


操作符 | 描述 | 实例
---|---|---
+ | 字符串连接 | a + b输出结果：HelloPython 
* | 重复输出字符串 | a*2 输出结果：HelloHello
[] | 通过索引获取字符串的一部分 | a[1] 输出结果：e
[:] | 截取字符串中的一部分 | a[1:4]输出结果：ell
in | 成员运算符 - 如果字符串中包含给定的字符返回True | H in a 输出结果1
not in | 成员运算符 - 如果字符串中不包含给定的字符串返回 True | M not in a 输出结果1
r/R | 原始字符串 - 原始字符串：所有的字符串都是直接按照字面的意思来使用，没有转义特殊或不能打印的字符。原始字符串除在字符串的第一个引号前加上字母"r"(可以大小写)以外，与普通字符串有着几乎完全相同的语法 | print r'\\n' => print \\n 和 print R'\\n' => print \\n
% | 格式字符串 | 

### 字符串格式化


符  号 | 描 述
---|---
%c | 格式化字符及其ASCII码
%s | 格式化字符串
%d | 格式化整数
%u | 格式化无符号整型
%o | 格式化无符号八进制数
%x | 格式化无符号十六进制数
%X | 格式化无符号十六进制数(大写)
%f | 格式化浮点数字，可指定小数点后的精度
%e | 用科学记数法格式化浮点数
%E | 用科学记数法格式化浮点数(大写)
%g | %f和%e的缩写
%G | %F和%E的缩写
%p | 用十六进制数格式化变量的地址

- 格式化可以在字符串后面替换前面定义的变量，而不需要知道变量的值

```
#格式字符串
print "My name is %s and weight is %d kg!" % ('Zara', 21) 
```
### 字符串格式化操作符


符 号 | 功能
---|---
* | 定义宽度或者小数点精度
- | 用作左对齐
\+ | 在正数前面显示加号(+)
<sp> | 在整数前面显示空格
\# | 在八进制数前面显示零('0')，在十六进制前面显示'0x'或者'OX'(取决于用的是'x'还是'X')
0 | 显示的数字前面填充'0'而不是默认的空格
\% | '%%'输出一个单一的'%'
(var) | 映射变量 (字典参数)
m.n. | m 是显示的最小宽度，n是小数点后的位数(如果可用的话)

---
## 日期和时间

- python里的time和calendar库用于处理时间序列

### 系统记录时间的方法

- 系统并非通过包含时间的字符串来记录时间，而是通过计算与某一天的差值(s)实现时间的保存。
- 用于做差的时间是1970年1月1号的午夜

### time库

- 包含一些处理时间的基本库
- 使用时需要引入time库，**调用方法需要在前面加上time**

```
import time;  # This is required to include time module.
```
- 通过time()方法打印时间差值

```
ticks = time.time()
print "Number of ticks since 12:00am, January 1, 1970:", ticks
```

- 通过localtime()方法得到当前时间

```
localtime = time.localtime(time.time())
print "Local current time :", localtime
# 输出"time.struct_time(tm_year=2017, tm_mon=9, tm_mday=15, tm_hour=18, tm_min=33, tm_sec=55, tm_wday=4, tm_yday=258, tm_isdst=0)"
```
- 通过asctime()方法格式化时间
```
localtime = time.asctime( time.localtime(time.time()) )
print "Local current time :", localtime
# 输出'Fri Sep 15 18:34:55 2017'
```


### 时间元组

- 时间元组是python用于处理数据的九组数据 

字 段 | 属 性 | 值
---|---|---
4位数年 | tm_year | 2008 
月 | tm_mon | 1 到12
日 | tm_mday | 1 到 31
小时 | tm_hour | 0 到 23
分钟 | tm_min | 0 到 59
秒 | tm_sec | 0 到 60或61(61是闰秒)
一周的第几日 | tn_wday | 0 到 6(o是周一)
一年的第几日 | tm_yday | 1 到 366(儒略历)
夏令时 | tm_isdst | -1，0，1，-1是决定是否为夏令时的旗帜

### calendar库
- 用于获取某月或某日的日历
- 使用时需要引入calendar库，**调用方法需要在前面加上calendar**

```
import calendar

cal = calendar.month(2008, 1)
print cal;
     January 2008
Mo Tu We Th Fr Sa Su
    1  2  3  4  5  6
 7  8  9 10 11 12 13
14 15 16 17 18 19 20
21 22 23 24 25 26 27
28 29 30 31
```